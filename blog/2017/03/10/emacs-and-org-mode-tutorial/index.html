<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Emacs and Org-Mode Tutorial - Cadafalso</title>
    <meta charset="utf-8" />
    <meta name="author" content="zilog" />
    <meta name="description" content="Descrição aqui emacs tutorial" />
    <meta name="keywords" content="keyword1, keyword2, keyword3" />
    <link rel="stylesheet" href="http://guaracy.github.com/media/css/main.css" type="text/css">
  </head>
<body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="http://guaracy.github.com/">Cadafalso</a></h1>
        <p>apenas mais um blog</p>
        <ul>
          <li><a href="http://guaracy.github.com/blog/">Blog</a></li>
          <li><a href="http://guaracy.github.com/tags/">Tags</a></li>
          <li><a href="http://guaracy.github.com/about/">About</a></li>
          <li><a href="https://github.com/guaracy/teste.git">Github</a></li>
          <li><a href="http://guaracy.github.com/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="guaracy.github.com">
        </form>
        <img class="avatar" src="http://guaracy.github.com/media/img/horse.jpg" />
      </header>
    </div>

<div class="content-and-footer">
<div>
<div class="post">
<h1 class="post-title">Emacs and Org-Mode Tutorial</h1>
<div id="table-of-contents">
<h2>&Iacute;ndice</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org47a7942">Introduction</a></li>
<li><a href="#orgb55a6af">Initial setup</a>
<ul>
<li><a href="#org448de0a">Mac</a></li>
<li><a href="#orgeb1fac9">Linux</a></li>
<li><a href="#org9232cec">Windows</a></li>
<li><a href="#org179c8ed">All versions</a></li>
</ul>
</li>
<li><a href="#orga64a1fa">Emacs basics</a>
<ul>
<li><a href="#org8259713">Emacs tutorial</a></li>
<li><a href="#org8c77ec6">Key concepts</a></li>
</ul>
</li>
<li><a href="#org9feea18">Org-mode</a>
<ul>
<li><a href="#orgd2f4eba">org-mode structure</a></li>
<li><a href="#org976426a">org-mode tables</a></li>
<li><a href="#org2eabacd">org-mode links and images</a></li>
<li><a href="#org52d619a">Formatting text</a></li>
<li><a href="#org1df52f8">LaTeX and source code blocks</a></li>
<li><a href="#orgaf01046">Tangling your code for literate programming</a></li>
<li><a href="#org324f5da">Org mode exporting</a></li>
<li><a href="#org08ff7a6">Reproducible research</a></li>
</ul>
</li>
<li><a href="#orgd3cd416">Organising yourself with org-capture</a></li>
<li><a href="#orga7b7207">Efficient editing</a>
<ul>
<li><a href="#orgf85940a">Installing packages</a></li>
<li><a href="#org6386f6d">Quick movement</a></li>
<li><a href="#org760bead">Abbreviations and completion</a></li>
<li><a href="#orgeed0525">Cut or copy line</a></li>
<li><a href="#orgb8283de">Cycle case</a></li>
<li><a href="#org1152a92">Comments</a></li>
<li><a href="#org62047fe">Search and replace</a></li>
<li><a href="#orge3c0171">Macros</a></li>
<li><a href="#org6dffd8c">Opening files and recent buffers</a></li>
<li><a href="#orge217aac">Spell checking</a></li>
<li><a href="#org8b5b2a9">Shell commands</a></li>
<li><a href="#orgad3d0df">Rectangles</a></li>
<li><a href="#org85492c9">Expand region</a></li>
<li><a href="#orgf5eaf0e">Multiple Cursors</a></li>
<li><a href="#org8fe117e">Paste history</a></li>
<li><a href="#orgd01de8f">Jump to previous positions</a></li>
<li><a href="#orga2b956d">Compare files with ediff</a></li>
<li><a href="#org2b5c844">Undo tree</a></li>
<li><a href="#org94c9747">Quick calculation</a></li>
<li><a href="#org42b6b6f">Insert today's date</a></li>
<li><a href="#org4ce68b7">Insert a file name</a></li>
<li><a href="#orgd74b0ba">Manage files with dired</a></li>
</ul>
</li>
<li><a href="#org2df51d4">Email in Emacs</a></li>
<li><a href="#org5f3fdb9">Version history</a></li>
</ul>
</div>
</div>

<div id="outline-container-org47a7942" class="outline-2">
<h2 id="org47a7942">Introduction</h2>
<div class="outline-text-2" id="text-org47a7942">
<p>
This tutorial is intended to introduce the text editor <code>Emacs</code> and
demonstrate some of the advanced techniques that are useful for
researchers. In particular I will highlight the use of Emacs as a
research notebook.
</p>

<p>
Note that to call Emacs a text editor is a bit of an
understatement. It is also a web browser, news reader, email client,
file manager, development environment, and the list goes on.
</p>

<p>
The structure of this tutorial is a general introduction to Emacs,
with some preparatory work, and then an interactive session where I
will demonstrate some techniques that you should work along with. To
begin with you need to work through to the end of the Emacs basics
section.
</p>

<p>
These tutorial notes were written as an org mode text document which
you can download <a href="http://www.star.bris.ac.uk/bjm/emacs_tutorial.org">here</a> (right click and save).
</p>
</div>
</div>

<div id="outline-container-orgb55a6af" class="outline-2">
<h2 id="orgb55a6af">Initial setup</h2>
<div class="outline-text-2" id="text-orgb55a6af">
<p>
Here we will set up Emacs with spell checking. To get the most out of
Emacs for scientific work, you'll find it useful to have a working
LaTeX installation too.
</p>
</div>

<div id="outline-container-org448de0a" class="outline-3">
<h3 id="org448de0a">Mac</h3>
<div class="outline-text-3" id="text-org448de0a">
<p>
The best way to install Emacs on the Mac is to use the homebrew
package manager. Install homebrew from a terminal using the command
</p>
<div class="org-src-container">
<pre class="src src-sh">/usr/bin/ruby -e <span class="org-string">"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</span>
</pre>
</div>

<p>
Then install emacs and hunspell using
</p>
<div class="org-src-container">
<pre class="src src-sh">brew install emacs --with-cocoa --with-gnutls --with-rsvg --with-imagemagick
brew linkapps emacs
brew install hunspell
brew linkapps hunspell
</pre>
</div>

<p>
Finally, download the hunspell dictionaries from here
<a href="http://www.star.bris.ac.uk/bjm/hunspell-en_GB.zip">http://www.star.bris.ac.uk/bjm/hunspell-en_GB.zip</a>
and unzip the files into ~/Library/Spelling
</p>
</div>
</div>


<div id="outline-container-orgeb1fac9" class="outline-3">
<h3 id="orgeb1fac9">Linux</h3>
<div class="outline-text-3" id="text-orgeb1fac9">
<p>
Linux machines come with emacs installed, ideally you'll need to be using
the most recent version of emacs (25.1.1), but I think everything
below will also work in Emacs 24 onwards.
</p>

<p>
You can check your emacs version with
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --version
</pre>
</div>

<p>
On the astronomy group's linux machines you can access the latest
Emacs with
</p>
<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">alias</span> emacs /usr/local/bin/emacs
</pre>
</div>

<p>
Otherwise, contact your system admin to intall the latest version, or
install it yourself with a package manager, or from source.
</p>

<p>
You can install the latest bleeding edge version from source following
these instructions:
<a href="https://www.gnu.org/software/emacs/manual/html_node/efaq/Installing-Emacs.html">https://www.gnu.org/software/emacs/manual/html_node/efaq/Installing-Emacs.html</a>
</p>

<p>
You will also need a spell-checking program, and my Emacs
configuration assumes you use hunspell. This can be installed by your
package manager and you should just need to make sure it is in your
PATH.
</p>
</div>
</div>

<div id="outline-container-org9232cec" class="outline-3">
<h3 id="org9232cec">Windows</h3>
<div class="outline-text-3" id="text-org9232cec">
<p>
Download this zip file which contains Emacs and the hunspell spell checker
<a href="http://www.star.bris.ac.uk/bjm/emacs-hunspell.zip">http://www.star.bris.ac.uk/bjm/emacs-hunspell.zip</a>
and extract it somewhere sensible - I used my home directory. Now run
addpm.exe in the emacs/bin directory to add emacs to your start menu.
</p>
</div>
</div>

<div id="outline-container-org179c8ed" class="outline-3">
<h3 id="org179c8ed">All versions</h3>
<div class="outline-text-3" id="text-org179c8ed">
<ul class="org-ul">
<li>Start emacs and go to the buffers menu and choose scratch</li>
<li>Paste this line into emacs and then put the cursor at the end of
the line and press control and j</li>
</ul>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span>url-copy-file <span class="org-string">"http://www.star.bris.ac.uk/bjm/bjm-starter-init.el"</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"~/.emacs.d/init.el"</span><span class="org-rainbow-delimiters-depth-2">)</span> 1<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
<ul class="org-ul">
<li>Close and restart emacs and wait for it to finish installing packages</li>
<li>Close and restart emacs again</li>
</ul>

<p>
You can check if you have the latest version by running the command
<code>C-h v bjm-init-version</code>, and you should see version 1.7.
</p>

<p>
For Windows you will need to edit the section of your init file that
specifies where hunspell is. To do this, use M-x bjm/open-my-init-file
and look for the section headed "CUSTOMISE - hunspell" (use <code>C-s</code> to
search for this).
</p>
</div>
</div>
</div>

<div id="outline-container-orga64a1fa" class="outline-2">
<h2 id="orga64a1fa">Emacs basics</h2>
<div class="outline-text-2" id="text-orga64a1fa">
</div><div id="outline-container-org8259713" class="outline-3">
<h3 id="org8259713">Emacs tutorial</h3>
<div class="outline-text-3" id="text-org8259713">
<p>
Before we can get into some of the most useful areas of emacs and
org-mode, you will need to learn the basics of how to operate
emacs. The best way to do this is to work though the emacs
tutorial. This is available under the help menu of emacs, and I will
assume that you have worked through the tutorial, or already know the
basics of emacs in the following.
</p>

<p>
Note that our configuration changes some of the default emacs
behaviour, but basic functions covered in the tutorial should work as
described.
</p>
</div>
</div>

<div id="outline-container-org8c77ec6" class="outline-3">
<h3 id="org8c77ec6">Key concepts</h3>
<div class="outline-text-3" id="text-org8c77ec6">
<p>
Before we continue, make sure you are happy with the following basic
concepts:
</p>
<ul class="org-ul">
<li>What the notation <code>C-</code> and <code>M-</code> means. e.g. <code>C-x</code> means hold down <code>control</code>
and press <code>x</code> at the same time; <code>C-x C-f</code> means hold down <code>control</code> and
press <code>x</code> then <code>f</code>; <code>C-x f</code> means hold down <code>control</code> and press <code>x</code>, then
release <code>control</code> and press <code>f</code>. <code>M-</code> means the same for the <code>meta</code> key.
This means the <code>alt</code> key on most keyboards, but this might be the
command, option, or even escape key on a Mac.</li>
<li>How to open and save files (<code>C-x C-f</code> and <code>C-x C-s</code>)</li>
<li>How to move around a file (arrows, <code>C-v</code>, <code>M-v</code>, <code>C-a</code>, <code>C-e</code>, searching)</li>
<li>How to copy (<code>M-w</code>) kill/cut (<code>C-w</code>) and paste (<code>C-y</code>)</li>
<li>Deleting letters and words with <code>C-d</code>, <code>M-d</code> and <code>BACKSPACE</code> and
<code>M-BACKSPACE</code>. Note also that undo and redo are set to
<code>C-z</code> and <code>C-Z</code> in our configuration.</li>
<li>What is meant by buffers, windows, and frames, and how to switch
between buffers (<code>C-x C-b</code> and <code>C-x b</code>)</li>
<li>How to quit out of a command (<code>C-g</code>) and quit emacs (<code>C-x C-c</code>)</li>
<li>How to run extended commands with <code>M-x</code></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-org9feea18" class="outline-2">
<h2 id="org9feea18">Org-mode</h2>
<div class="outline-text-2" id="text-org9feea18">
<p>
Emacs uses the concepts of modes to provide additional
functionality. These are either major modes which relate to the type
of file being edited (e.g. text-mode for text files, cperl-mode for
perl files, nxml-mode for html, auctex-mode for latex etc), or minor
modes that provide additional functionality. Major
modes usually activate automatically when a file of a given type is
opened, and only one major mode is active in a given buffer at a
time. Minor modes also provide additional functionality, but can work
across different major modes, and you can have as many active as you
like. For example, flyspell-mode provides spell checking in many major
modes. Additional major and minor modes can be installed using the
emacs package manager (a bit like browser extensions).
</p>

<p>
<a href="http://orgmode.org/">Org-mode</a> is a very powerful major mode that
provides the ability to create structured text documents, along with
lots of other useful things. We will be using it here as a way to make
a detailed notebook that includes code snippets, tables and images.
</p>

<p>
Now, copy the tutorial org file your home directory by pasting the
following line into your <code>*scratch*</code> buffer and putting the cursor at
the end and hitting <code>C-j</code>.
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span>url-copy-file <span class="org-string">"http://www.star.bris.ac.uk/bjm/emacs_tutorial.org"</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"~/emacs_tutorial.org"</span><span class="org-rainbow-delimiters-depth-2">)</span> 1<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>
<p>
Open the file and Emacs will automatically start that buffer in
org-mode. Now let's start work through the tutorial adding our own
notes as we go
</p>

<p>
First we can check we have a recent version of org mode using <code>M-x
org-version</code> and check it is newer than 8.0.
</p>

<p>
I have marked points in <b>bold</b> where you need to add text.
</p>
</div>

<div id="outline-container-orgd2f4eba" class="outline-3">
<h3 id="orgd2f4eba">org-mode structure</h3>
<div class="outline-text-3" id="text-orgd2f4eba">
<p>
Text in org is structured by headings, denoted by lines starting with
one or more * so we are currently in a subsection!
</p>

<p>
<b>add a sub-subheading</b>
</p>
</div>

<div id="outline-container-org3f947ce" class="outline-4">
<h4 id="org3f947ce">my new sub-subsection</h4>
<div class="outline-text-4" id="text-org3f947ce">
<p>
njnksjvnksjbv
</p>
</div>
</div>
<div id="outline-container-orgf6bbbfb" class="outline-4">
<h4 id="orgf6bbbfb">navigation</h4>
<div class="outline-text-4" id="text-orgf6bbbfb">
<p>
Headings can be expanded or collapsed by moving to the (sub)heading
and pressing <code>TAB</code>. <code>S-TAB</code> cycles all headings. You can jump to next and
previous headings with <code>C-c C-n</code> and <code>C-c C-p</code> respectively.
</p>

<p>
<b>expand and collapse headings and move between them</b>
</p>

<p>
You can move headings up and down with <code>M-up</code> and <code>M-down</code>. <b>Try this now</b>.
</p>
</div>
</div>

<div id="outline-container-orgf1022ec" class="outline-4">
<h4 id="orgf1022ec">lists</h4>
<div class="outline-text-4" id="text-orgf1022ec">
</div><div id="outline-container-org6cabab5" class="outline-5">
<h5 id="org6cabab5">bullet lists</h5>
<div class="outline-text-5" id="text-org6cabab5">
<ul class="org-ul">
<li>bullet lists can be created like this (start a line with one or
more space and a -</li>
<li>pressing <code>M-RET</code> gives you a new bullet</li>
<li>we might also like nested bullets
<ul class="org-ul">
<li>like this one (I pressed <code>M-RET TAB</code> to indent it)</li>
<li>and another (<code>M-RET</code> now indents to the new level)</li>
</ul></li>
<li>the nice thing is that for long lines of text, emacs wraps them
so that they line up with the bullet</li>
<li>you can also reorder list items and change indentation using
<code>M-up</code> or <code>M-down</code> just like with section headings</li>
<li>you can change bullet style using <code>S-left</code> and <code>S-right</code></li>
</ul>

<p>
<b>Add an item to the list above and then move the items around and
change the bullet style</b>
</p>
</div>
</div>

<div id="outline-container-org20fbd49" class="outline-5">
<h5 id="org20fbd49">numbered lists</h5>
<div class="outline-text-5" id="text-org20fbd49">
<ol class="org-ol">
<li>numbered lists are also possible</li>
<li><code>M-RET</code> gives me a new number</li>
<li>moving the items changes the numbering</li>
<li>new item</li>
</ol>

<p>
<b>Add an item to the list and move the items up and down</b>
</p>
</div>
</div>

<div id="outline-container-orgf02d494" class="outline-5">
<h5 id="orgf02d494">checklists <code>[5/5]</code></h5>
<div class="outline-text-5" id="text-orgf02d494">
<ul class="org-ul">
<li class="on"><code>[X]</code> we can even have check lists</li>
<li class="on"><code>[X]</code> <code>M-S-RET</code> gives a new item with a check box</li>
<li class="on"><code>[X]</code> <code>C-c C-c</code> check/unchecks a box</li>
<li class="on"><code>[X]</code> you can have sub items
<ul class="org-ul">
<li class="on"><code>[X]</code> like this</li>
<li class="on"><code>[X]</code> that can be checked off individually</li>
</ul></li>
<li class="on"><code>[X]</code> and you can track the number of items by adding <code>[0/0]</code> to the end
of a line above a checklist - this updates when you check items off</li>
</ul>

<p>
<b>Add an item to the check list and check some items and sub-items off</b>
</p>
</div>
</div>

<div id="outline-container-org9c616b8" class="outline-5">
<h5 id="org9c616b8">definition lists</h5>
<div class="outline-text-5" id="text-org9c616b8">
<dl class="org-dl">
<dt>definition lists</dt><dd>these are useful sometimes</dd>
<dt>word</dt><dd>definition</dd>
<dt>item 2</dt><dd><code>M-RET</code> again gives another item, and long lines wrap in a
tidy way underneath the definition</dd>
</dl>

<p>
<b>Add an item to the definition list</b>
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org976426a" class="outline-3">
<h3 id="org976426a">org-mode tables</h3>
<div class="outline-text-3" id="text-org976426a">
<p>
Hopefully you can see straight away that the simple structure provided
by org-mode gives a nice way to keep an electronic note book.
</p>

<p>
Often it is nice to include tables in our notes - org handles this by
using | to separate columns, and a line of --- (inserted with <code>C-c -</code>)
to add horizontal lines.
</p>

<p>
<b>Exercise: start typing in a copy of the table below</b>
</p>
<ol class="org-ol">
<li>type the first line in verbatim</li>
<li>when you get to the "s" of comments, press <code>TAB</code> to go to the next
line</li>
<li>go up to the previous line and use <code>C-c -</code> to add the row of dashes</li>
<li>next enter a few lines of data, using <code>TAB</code> to go through the
cells - you should notice the columns changing width as needed</li>
</ol>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">ID</th>
<th scope="col" class="org-right">X</th>
<th scope="col" class="org-right">Y</th>
<th scope="col" class="org-left">comments</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">a</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-left">blah</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-left">blah</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-right">4</td>
<td class="org-right">16</td>
<td class="org-left">blah blah blah</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">ID</th>
<th scope="col" class="org-right">x</th>
<th scope="col" class="org-right">y</th>
<th scope="col" class="org-left">comments</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">A</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
<td class="org-left">blah</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">3</td>
<td class="org-right">9</td>
<td class="org-left">blah</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">4</td>
<td class="org-right">16</td>
<td class="org-left">blah blah blah</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">5</td>
<td class="org-right">25</td>
<td class="org-left">blah</td>
</tr>
</tbody>
</table>

<p>
Now, you can move rows and columns around using <code>M-arrow</code> and insert or
delete rows and columns using <code>M-S-arrow</code>. Try this out now.
</p>
</div>


<div id="outline-container-orge7d45e1" class="outline-4">
<h4 id="orge7d45e1">Advanced tables</h4>
<div class="outline-text-4" id="text-orge7d45e1">
</div><div id="outline-container-org6b492e2" class="outline-5">
<h5 id="org6b492e2">creating and exporting</h5>
<div class="outline-text-5" id="text-org6b492e2">
<p>
You can easily convert some text to a table - <b>select the following
text and use C-c | to convert the region to a table</b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">ID</td>
<td class="org-right">x</td>
<td class="org-right">y</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">2</td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">3</td>
<td class="org-right">9</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">4</td>
<td class="org-right">16</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">5</td>
<td class="org-right">25</td>
</tr>
</tbody>
</table>

<p>
You can also save tables to files by putting the cursor in the table
and using <code>M-x org-table-export</code>
</p>
</div>
</div>

<div id="outline-container-org064cae4" class="outline-5">
<h5 id="org064cae4">formulae</h5>
<div class="outline-text-5" id="text-org064cae4">
<p>
You can use formulae to do arithmetic on tables (e.g. sum a column)
and other spreadsheet-like functions - see the org manual for details
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org2eabacd" class="outline-3">
<h3 id="org2eabacd">org-mode links and images</h3>
<div class="outline-text-3" id="text-org2eabacd">
<p>
Org mode supports links to files, URLs, and to other points in the org
file. In this example let's use an image from my website. First copy
it to your home directory
</p>
<div class="org-src-container">
<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span>url-copy-file <span class="org-string">"http://www.star.bris.ac.uk/bjm/superman_cluster.png"</span> <span class="org-rainbow-delimiters-depth-2">(</span>expand-file-name <span class="org-string">"~/superman_cluster.png"</span><span class="org-rainbow-delimiters-depth-2">)</span> 1<span class="org-rainbow-delimiters-depth-1">)</span>
</pre>
</div>

<p>
To add a link to a file use <code>C-u C-c C-l</code> and type the name of a file.
Use tab-completion to select the image we just copied and you will
then be asked for a description - you can press enter to leave this
blank
</p>


<div class="figure">
<p><img src="file:///home/zilog/superman_cluster.png" alt="superman_cluster.png" />
</p>
</div>

<p>
<b>add a link here</b>
</p>

<p>
Since the file we have linked to is an image, we can display the image
in emacs using <code>C-c C-x C-v</code> and use the same command to turn the image
off again - <b>try this</b>.
</p>

<p>
The structure of a link in org mode looks like this
</p>
<pre class="example">
[[link address][text]]
</pre>
<p>
where the link address is the URL or file name, and the text is the
text that is displayed, so we can replace our superman link with
something tidier like <b>use C-u C-c C-l to add a link named "this"
here</b> but note that this will not display when we turn on images.
</p>

<p>
Links to other parts of the org file are added easily using the name
of a section, like this
</p>
<pre class="example">
[[org-mode structure][this link]]
</pre>
<p>
<b>Type this in to make a link to the earlier section</b>
</p>

<p>
<a href="#orgd2f4eba">this link</a>
</p>


<p>
Finally, we can add a caption and a name to our image like this
</p>


<div id="org397cb56" class="figure">
<p><img src="superman_cluster.png" alt="superman_cluster.png" />
</p>
<p><span class="figure-number">Figura 2: </span>Superman and a galaxy cluster</p>
</div>

<p>
which means we can refer to our image later by using the name we just
gave it, for example, look at my picture in Fig. <a href="#org397cb56">2</a>
</p>
</div>
</div>

<div id="outline-container-org52d619a" class="outline-3">
<h3 id="org52d619a">Formatting text</h3>
<div class="outline-text-3" id="text-org52d619a">
<p>
Later on we'll look at exporting our org document to different
formats. Org does this very nicely, and translates your text and
markup appropriately. There are simple things you can do like
<i>italics</i> or <b>bold text</b> and <span class="underline">underlines</span> and <code>literal text</code> that org
understands.
</p>

<p>
<b>Type a few examples here</b>
</p>
</div>
</div>

<div id="outline-container-org1df52f8" class="outline-3">
<h3 id="org1df52f8">LaTeX and source code blocks</h3>
<div class="outline-text-3" id="text-org1df52f8">
<p>
Sometimes you don't want org mode to try to do anything clever with
some text and just display it as plain text. One way to do this is to
use an example block. Go to a new line and type &lt;e then press <code>TAB</code>
</p>

<pre class="example">
[[link]]
</pre>

<p>
<b>Add an example block here</b>
</p>

<p>
syntax like superscripts x^2 or symbols &alpha; &beta; &gamma;. Org also
understands more complex latex like this
</p>
\begin{align}
x^2 + \left(\frac{y}{z}\right)^4 = 0
\end{align}

<p>
We'll see how these look when we export this file later.
</p>

<div class="LaTeX">
<p>

</p>

</div>

<p>
It is also handy to include source code in your notes - <b>on a new line
type &lt;s and TAB to create a source block</b>. You can tall org what type
of code is contained - in this case we'll put in some simple shell
code, so well put "sh" at the top of the block. Now move the cursor
inside the block and type <code>C-c '</code> which will create a new temporary
buffer in the major mode of the programming language you have
specified. Type some code in, and then type <code>C-c '</code> again to come back
to this buffer
</p>


<div class="org-src-container">
<pre class="src src-sh"><span class="org-builtin">echo</span> <span class="org-string">"Hello $USER! Today is `date`"</span>
<span class="org-keyword">exit</span>
</pre>
</div>


<p>
<b>Add a source code block here, containing the following lines (without
the example tags)</b>
</p>

<pre class="example">
echo "Hello $USER! Today is `date`"
exit
</pre>


<p>
It is possible to have org execute the code in a block by putting the
cursor in there and using <code>C-c C-c</code> and then giving it permission when
asked. By default the output of the code is added to the org file
below the code block - <b>try this with the example code above</b>.
</p>

<p>
This feature of org (called babel) is particularly powerful. There are
much more sophisticated things you can do, like have the code read
data from a table elsewhere in the file and add images to the file.
You can also add links to line numbers in the code and more. See the
org-mode and babel online documentation for more.
</p>

<p>
Here is an example where executing this shell code block...
</p>

<div class="org-src-container">
<pre class="src src-sh" id="orgc63f054">ls -Ss /homeb/bjm/docs | head -7 | grep -v total
<span class="org-keyword">exit</span>
</pre>
</div>

<p>
generates this table...
</p>


<p>
which is then used as an input for this R code block (using the :var option)...
</p>

<div class="org-src-container">
<pre class="src src-R" id="org7717e44">pie(files[,1], labels = files[,2])
</pre>
</div>


<div class="figure">
<p><img src="http://guaracy.github.com/assets/blog/2017/03/10/emacs-and-org-mode-tutorial/file-size.png" alt="/assets/blog/2017/03/10/emacs-and-org-mode-tutorial/file-size.png" />
</p>
</div>

<p>
to make this plot...
</p>
</div>
</div>


<div id="outline-container-orgaf01046" class="outline-3">
<h3 id="orgaf01046">Tangling your code for literate programming</h3>
<div class="outline-text-3" id="text-orgaf01046">
<p>
In org mode you can "tangle" your file to extract out your code blocks
into one or more file. This makes it a good way to document your code.
As a trivial example, I want to write a script that will write the
names of all of the files in my home directory to a file
</p>

<div class="org-src-container">
<pre class="src src-sh">ls ~/* &gt; /tmp/aaa
</pre>
</div>

<p>
than I want my script to count the number of lines in that file
</p>

<div class="org-src-container">
<pre class="src src-sh">wc -l /tmp/aaa
</pre>
</div>

<p>
If I use <code>C-c C-v C-t</code> org will tangle those two code blocks into a
file called filenames.sh
</p>

<p>
This can be a very good way of writing and documenting code - you can
effectively write a manual and your code together and then tangle the
code out into a file that you can compile or run.
</p>

<p>
<b>Try tangling the script above</b>
</p>
</div>
</div>

<div id="outline-container-org324f5da" class="outline-3">
<h3 id="org324f5da">Org mode exporting</h3>
<div class="outline-text-3" id="text-org324f5da">
<p>
One strength of org-mode is the ability to export to multiple
formats. Most useful are web pages and pdf (via latex). To export this
file to a web page, type C-c C-e to start the exporter and then press
"h" to select html and "o" to select open. A new web page should now
open in your browser.
</p>

<p>
<b>Export this file to a web page and view it</b>
</p>

<p>
Similarly, typing "l" and "o" in the exporter will convert the org
file to latex and then compile it to produce a pdf and display
that.
</p>

<p>
<b>Export this file to pdf and view it</b>
</p>

<p>
You can control which parts of the file are exported by adding tags to
section headings. To do this, put the cursor on a heading and hit <code>C-c
C-c</code> which will pop up a menu to select tags. Select the noexport tag
and that heading will not be exported. Select the export tag and only
that heading (and any other headings tagged with export) will be
exported. Tags are inherited by subheadings.
</p>

<p>
<b>Tag a heading as noexport and then export the file again</b>
</p>

<p>
It is possible to add many customisations to the export process. Go to
the top of the buffer (using <code>M-&lt;</code>) and you can see some of the
options that are used for this file. These are fine for simple pdf and
html export, but see the org manual on exporting for more details.
</p>
</div>
</div>

<div id="outline-container-org08ff7a6" class="outline-3">
<h3 id="org08ff7a6">Reproducible research</h3>
<div class="outline-text-3" id="text-org08ff7a6">
<p>
Using the techniques here, it is possible to create a single org
document that contains all of the code and notes for a project, and
also the draft and final versions of the paper. This makes it
extremely easy for anyone to reproduce your work.
</p>

<p>
As an example, you can download the org file for a recent paper of
mine <a href="http://www.star.bris.ac.uk/bjm/checs-example.org">here</a>. That file doesn't contain all of the data (some of the data
files were large), but does contain the code, results, code to
generate plots, notes to myself, draft paper and final paper. By using
the appropriate export settings at the top of the file I can export
this to a latex file and pdf ready to submit to a journal.
</p>
</div>
</div>
</div>

<div id="outline-container-orgd3cd416" class="outline-2">
<h2 id="orgd3cd416">Organising yourself with org-capture</h2>
<div class="outline-text-2" id="text-orgd3cd416">
<p>
Org mode has a very powerful way of managing todo lists including clocking
the length of time spent on tasks and adding deadlines etc. I've given
you a basic setup, but see <a href="http://doc.norang.ca/org-mode.html">this page</a> for a really detailed example.
</p>

<p>
At the heart of this is org-capture. From anywhere in emacs hit <code>C-c c
t</code> to capture a thought, link, or to-do item and then get right back
to what you were doing.
</p>

<p>
Hitting <code>C-c c t</code> will pop up a small window with a template for an
todo item that looks like an org-mode headline. You'll see it has a
priority (B by default), a scheduled date (today by default), and a
link to the current file. Add some text to the headline to make your
item, and then you can customise it by
</p>
<ul class="org-ul">
<li>using <code>S-&lt;up&gt;</code> and <code>S-&lt;down&gt;</code> to change the priority</li>
<li>putting the cursor in the date field and using shift and arrow keys
to change the date</li>
<li>use <code>C-c C-d</code> to add a deadline date which will pop up a mini
calendar - use shift and arrow keys to select the date. You can use
<code>C-c C-s</code> to add a scheduled date, but we have one of those already
by default.</li>
</ul>
<p>
When you are happy, use <code>C-c C-c</code> to save this item to a file (this
defaults to todo.org in your home directory). The nice thing
about this method of adding items (called org-capture) is that you can
use it anywhere in Emacs and carry on with what you were doing.
</p>

<p>
Now we can have a look at our todo list using <code>C-c a</code> to launch the
"agenda dispatcher", a powerful interface for selecting different ways
to view your tasks. My favourite is to use <code>n</code> in the dispatcher (i.e.
use <code>C-c a n</code>) to view the current fortnight of scheduled tasks
followed by the list of any unscheduled tasks. This switches to the
agenda buffer. In this list view, you might want to:
</p>
<ul class="org-ul">
<li>Cross an item off your list (the best bit!). To do this put the
cursor on the corresponding line and hit <code>$</code> which marks it as done
and archives the item in a file called <code>todo.org_archive</code> getting
rid of it from your todo list.</li>
<li>Change the priority of an item using shift up/down.</li>
<li>View the notes to go with items by hitting <code>E</code>.</li>
<li>Edit or view an item in more detail by hitting <code>RET</code> with the
cursor on the item that you want. This takes you to the item in
your <code>todo.org</code> file where you can edit it or look at the notes you
added to it in more detail.</li>
<li>Quit back to where you were before with <code>q</code></li>
</ul>

<p>
That is all there is to it, and you now have a simple but powerful
todo list in emacs. Just remember <code>C-c c t</code> to create a todo item and
<code>C-c a n</code> to view the todo list.
</p>
</div>
</div>


<div id="outline-container-orga7b7207" class="outline-2">
<h2 id="orga7b7207">Efficient editing</h2>
<div class="outline-text-2" id="text-orga7b7207">
<p>
Now we will turn to more general Emacs techniques - these are not
specific to org mode, but we can demonstrate them in this org mode
file
</p>
</div>

<div id="outline-container-orgf85940a" class="outline-3">
<h3 id="orgf85940a">Installing packages</h3>
<div class="outline-text-3" id="text-orgf85940a">
<p>
Most of the packages you need to get started are installed by my
config file, but there are lots more out there. For example, let's
install a package using the built in emacs package manager:
</p>
<pre class="example">
M-x package-list-packages
</pre>
<p>
to bring up the list of available and installed packages. For example,
to install the package "wrap-region", search for the name of the
package in the buffer (just use <code>C-s</code>) and then put the cursor on that
line and press <code>i</code> to mark the package for installation and <code>x</code> to
actually install it.
</p>

<p>
After you install a package you will often need to edit your config
file to activate the package and set options (this will be explaine
don the web page of a package). To do this, open your config file with
<code>C-x C-f</code> and then start typing <code>~/.emacs.d/init.el</code> - you will see
the completion options appear in the mini buffer and you can use the
arrows and enter to select.
</p>

<p>
In general I recommend using <code>use-package</code> to install and setup
packages. To do this for wrap-region, add the following to your
init.el file (without the src tags!)
</p>

<div class="org-src-container">
<pre class="src src-elisp"><span class="org-rainbow-delimiters-depth-1">(</span>use-package wrap-region
  <span class="org-builtin">:diminish</span> wrap-region-mode
  <span class="org-builtin">:config</span>
  <span class="org-rainbow-delimiters-depth-2">(</span>wrap-region-add-wrappers
   '<span class="org-rainbow-delimiters-depth-3">(</span><span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"*"</span> <span class="org-string">"*"</span> nil <span class="org-rainbow-delimiters-depth-5">(</span>org-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"~"</span> <span class="org-string">"~"</span> nil <span class="org-rainbow-delimiters-depth-5">(</span>org-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"/"</span> <span class="org-string">"/"</span> nil <span class="org-rainbow-delimiters-depth-5">(</span>org-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"="</span> <span class="org-string">"="</span> <span class="org-string">"+"</span> <span class="org-rainbow-delimiters-depth-5">(</span>org-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"_"</span> <span class="org-string">"_"</span> nil <span class="org-rainbow-delimiters-depth-5">(</span>org-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span>
     <span class="org-rainbow-delimiters-depth-4">(</span><span class="org-string">"$"</span> <span class="org-string">"$"</span> nil <span class="org-rainbow-delimiters-depth-5">(</span>org-mode latex-mode<span class="org-rainbow-delimiters-depth-5">)</span><span class="org-rainbow-delimiters-depth-4">)</span><span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span>add-hook 'org-mode-hook 'wrap-region-mode<span class="org-rainbow-delimiters-depth-3">)</span>
  <span class="org-rainbow-delimiters-depth-3">(</span>add-hook 'latex-mode-hook 'wrap-region-mode<span class="org-rainbow-delimiters-depth-3">)</span><span class="org-rainbow-delimiters-depth-2">)</span>
</pre>
</div>

<p>
Now save your work with <code>C-x s</code> and close emacs (<code>C-x c</code>) and restart
it for the new package to be picked up.
</p>
</div>
</div>

<div id="outline-container-org6386f6d" class="outline-3">
<h3 id="org6386f6d">Quick movement</h3>
<div class="outline-text-3" id="text-org6386f6d">
<p>
A key strategy to using Emacs efficiently is to move around the buffer
quickly without needing the mouse. Get in the mindset of using <code>C-s</code>
as a movement tool to take the cursor somewhere you can see on the
screen. Another way to do this is to use <code>M-s</code> to launch avy. You are
prompted for the first character of a word. Enter one and then all
words starting with that character are given a shortcut key. Type that
shortcut to move to the word.
</p>
</div>
</div>

<div id="outline-container-org760bead" class="outline-3">
<h3 id="org760bead">Abbreviations and completion</h3>
<div class="outline-text-3" id="text-org760bead">
<p>
Emacs will try to complete words if you use <code>M-/</code> for example try typing
"comp" and then pressing <code>M-/</code> multiple times to cycle through the
completion options
</p>



<p>
<b>Try this</b>
</p>

<p>
Emacs also has a smart abbreviation system where you can define short
hand for long terms to save an abbreviation, type the abbreviated text
e.g. "abbr" and then use <code>C-x a -</code> and then type the full version
e.g. abbreviation. From now on, any time you type abbr and space (or
comma, enter etc) it will magically expand.
</p>

<p>
<b>Make an abbreviation</b>
</p>
</div>
</div>

<div id="outline-container-orgeed0525" class="outline-3">
<h3 id="orgeed0525">Cut or copy line</h3>
<div class="outline-text-3" id="text-orgeed0525">
<p>
If no text is selected then <code>M-w</code> copies the current line, and <code>C-w</code>
cuts it.
</p>
</div>
</div>

<div id="outline-container-orgb8283de" class="outline-3">
<h3 id="orgb8283de">Cycle case</h3>
<div class="outline-text-3" id="text-orgb8283de">
<p>
Put your cursor on a word and pres <code>M-c</code> to cycle the case of the
word. Also works for regions
</p>
</div>
</div>

<div id="outline-container-org1152a92" class="outline-3">
<h3 id="org1152a92">Comments</h3>
<div class="outline-text-3" id="text-org1152a92">
<p>
Use <code>M-;</code> to comment/uncomment a line or a region. Use <code>C-M-;</code> to
comment a line and move to the next one.
</p>

<p>
Select several lines and use <code>C-c b b</code> to make them into a comment
box.
</p>

<p>
comment
</p>
</div>
</div>

<div id="outline-container-org62047fe" class="outline-3">
<h3 id="org62047fe">Search and replace</h3>
<div class="outline-text-3" id="text-org62047fe">
<p>
Use <code>M-%</code> to replace all occurrences of a string with a replacement
string. You need to type <code>y</code> or <code>n</code> to approve the replacement or use <code>!</code>
to accept all replacements
</p>

<p>
<b>Try replacing aaa with bbb in the following</b>
</p>

<p>
bbb blah blah bbb blah bbb blbbbh blah
</p>
</div>
</div>

<div id="outline-container-orge3c0171" class="outline-3">
<h3 id="orge3c0171">Macros</h3>
<div class="outline-text-3" id="text-orge3c0171">
<p>
In emacs you can record sequences of commands and play them back to
repeat boring tasks. For example in the following text, let's delete
the x's from the end of each line. Go to the h at the start of the
first line and use <code>C-x (</code> to start recording a macro. Then use <code>C-s d</code> to
search ahead to the and of the word world, then <code>C-k</code> to kill the text
to the end of the line, then <code>C-a</code> to move back to the start of the line
and <code>C-n</code> or down arrow to move don to the line below. Now use <code>C-x )</code> to
end macro recording and <code>C-x e</code> to run the macro. Pressing <code>e</code> again will
repeat the macro. Do this until you have cleaned up the text.
</p>

<p>
<b>Clean up the text</b>
</p>

<pre class="example">
hello world
hello world
hello world
hello world
hello world
hello world
hello world
hello world
</pre>

<p>
To repeat the macro N times use <code>M-N C-x e</code> where N is an integer -
set N to be very large and the macro will repeat until the end of the
buffer. Many emacs commands accept numerical prefixes in this way to
cause them to repeat N times.
</p>
</div>
</div>

<div id="outline-container-org6dffd8c" class="outline-3">
<h3 id="org6dffd8c">Opening files and recent buffers</h3>
<div class="outline-text-3" id="text-org6dffd8c">
<p>
Use <code>C-x b</code> to switch buffers. This offers you a list of buffers that
are currently open and recently used buffers, and you can type a
string to narrow the results.
</p>

<p>
Use <code>C-x C-f</code> to open files or make a new file.
</p>

<p>
Type <code>C-x f</code> to activate helm-for-files to provide a powerful search
for files. Start typing the name of a file and it will show a list of
matches from your current buffers, recent files, current directory,
and the locate database. If you are running Emacs on a Mac, you can
tweak this to use spotlight instead.
</p>

<p>
<b>Try this</b>
</p>
</div>
</div>

<div id="outline-container-orge217aac" class="outline-3">
<h3 id="orge217aac">Spell checking</h3>
<div class="outline-text-3" id="text-orge217aac">
<p>
Flyspell is a minor mode that checks spelling as you type. If you make
a typo, press <code>C-;</code> to cycle through corrections of the mis-spelled word
closest behind the cursor. You can also correct a particular word by
putting the cursor on it and pressing <code>M-$</code>. You can spell check the
whole buffer with <code>M-x ispell</code>.
</p>

<p>
You can add words to your personal dictionary to stop them being
flagged as typos. To do this rum <code>M-$</code> on the word and hit <code>i</code> to add
the word to your dictionary.
</p>

<p>
<b>Mis-spell some words and then correct them</b>
</p>

<p>
this is a spelling test
</p>
</div>
</div>

<div id="outline-container-org8b5b2a9" class="outline-3">
<h3 id="org8b5b2a9">Shell commands</h3>
<div class="outline-text-3" id="text-org8b5b2a9">
<p>
It is often useful to operate on text in emacs using standard shell
commands. For example, suppose we had a text file containing columns
of numbers that we wanted to manipulate to calculate a radius and unit
vector from x and y coordinates:
</p>

<pre class="example">
#ID  x   y
A    2   4
B    3   2
C    4  -4
D    5   1
</pre>

<p>
Select the text in the table, not including the line containing the
column names, and use <code>M-|</code> to run <code>shell-command-on-region</code>. Then type
</p>
<pre class="example">
awk '{printf("%g %g %g\n",sqrt($2**2+$3**2),$2/sqrt($2**2+$3**2),$3/sqrt($2**2+$3**2))}'
</pre>
<p>
The output text appears at the bottom of the screen and then
disappears once you type anything else, but it is saved in a buffer
called <code>Shell Command Output</code> - switch to that buffer with <code>C-x b</code> to
see the output.
</p>

<p>
Now it would be nice to add this text back into our table - one way to
do this is to use rectangles...
</p>
</div>
</div>

<div id="outline-container-orgad3d0df" class="outline-3">
<h3 id="orgad3d0df">Rectangles</h3>
<div class="outline-text-3" id="text-orgad3d0df">
<p>
Emacs has a very nice feature of letting you select rectangular
regions of text for manipulation. Recall that we use <code>C-SPACE</code> for
normal text section; we use <code>C-x SPACE</code> for rectangular selection. Try
that here, and then switch to the <code>Shell Command Output</code> buffer and
highlight a rectangle containing the three columns that were created,
and then use <code>M-w</code> to copy the rectangle
</p>

<p>
Now type in the names of the new columns in the table and put the
cursor at the position of the first new value (i.e. under R) and paste
(yank) the rectangle as normal with <code>C-y</code>. Now suppose
we had wanted to add the new columns before the x and y columns; put
the cursor in front of the 2 under x use <code>C-y</code> again and note how the
text is shifted to the right.
</p>

<pre class="example">
#ID  x   y  R  xhat  yhat
A     2   4 2   4
B     3   2 3   2
C     4  -4 4  -4
D     5   1 5   1
</pre>
</div>
</div>

<div id="outline-container-org85492c9" class="outline-3">
<h3 id="org85492c9">Expand region</h3>
<div class="outline-text-3" id="text-org85492c9">
<p>
Put the cursor on a word and hit <code>C-=</code> to select the word. Now hit =
again to expand the selection and - to reduce the selection. Notice
how the expansion increases by semantic units: word to sentence to
paragraph.
</p>
</div>
</div>

<div id="outline-container-orgf5eaf0e" class="outline-3">
<h3 id="orgf5eaf0e">Multiple Cursors</h3>
<div class="outline-text-3" id="text-orgf5eaf0e">
<p>
Press <code>M-.</code> a few times and watch new cursors appear below your
original. Type a few words and move the cursors around. Press enter to
leave multiple-cursors mode.
</p>

<p>
Now select the string "date1" in the first line of the Perl snippet
below, and then hit <code>M-.</code> a few times to put a cursor on each of the
following occurrences - you can now edit them as you wish. This is a
bit like query-replace but more flexible.
</p>

<div class="org-src-container">
<pre class="src src-perl">chomp <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">my</span> $<span class="org-variable-name">date3</span>=<span class="org-string">`dmkeypar $o1evt_clean DATE-OBS echo+`</span><span class="org-rainbow-delimiters-depth-1">)</span>;
chomp <span class="org-rainbow-delimiters-depth-1">(</span><span class="org-type">my</span> $<span class="org-variable-name">date2</span>=<span class="org-string">`dmkeypar $o2evt_clean DATE-OBS echo+`</span><span class="org-rainbow-delimiters-depth-1">)</span>;
&amp;<span class="org-function-name">printdatnew</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"date3 = $date3 # date of o1\n"</span><span class="org-rainbow-delimiters-depth-1">)</span>;
&amp;<span class="org-function-name">printdatnew</span><span class="org-rainbow-delimiters-depth-1">(</span><span class="org-string">"date2 = $date2 # date of o2\n"</span><span class="org-rainbow-delimiters-depth-1">)</span>;
</pre>
</div>

<p>
Finally, use <code>C-S</code> and click to add cursors anywhere.
</p>
</div>
</div>

<div id="outline-container-org8fe117e" class="outline-3">
<h3 id="org8fe117e">Paste history</h3>
<div class="outline-text-3" id="text-org8fe117e">
<p>
Copy some text (<code>M-w</code>) and then paste (<code>C-y</code>) and then use <code>M-y</code> to cycle
through previously copied text.
</p>
</div>
</div>

<div id="outline-container-orgd01de8f" class="outline-3">
<h3 id="orgd01de8f">Jump to previous positions</h3>
<div class="outline-text-3" id="text-orgd01de8f">
<p>
Do a search (<code>C-s</code>) somewhere in the buffer and then press <code>RET</code> to
finish the search. Now use <code>C-u C-SPACE</code> to jump back to where you
started the search. Keep pressing <code>C-SPACE</code> to jump to previous
locations. Emacs marks points in the text for lots of reasons
(searching, copying, pasting etc) so this will usually take you
somewhere useful.
</p>
</div>
</div>

<div id="outline-container-orga2b956d" class="outline-3">
<h3 id="orga2b956d">Compare files with ediff</h3>
<div class="outline-text-3" id="text-orga2b956d">
<p>
To compare the contents of two text files, use <code>M-x ediff-files</code> and
open the two files you want to compare. Stretch your window nice and
wide so you can see both files side by side clearly. You should see
blocks of text that differ between the two buffers highlighted. Press
<code>n</code> to move to the next difference and <code>p</code> to move to the previous
difference. Press <code>a</code> to copy the text from the left-hand file to the
right-hand file, or press <code>b</code> to copy text from the right-hand file to
the left-hand file.
</p>

<p>
Press <code>q</code> to exit <code>ediff</code> and then save your files if you have
modified them.
</p>
</div>
</div>

<div id="outline-container-org2b5c844" class="outline-3">
<h3 id="org2b5c844">Undo tree</h3>
<div class="outline-text-3" id="text-org2b5c844">
<p>
Type some text and then use <code>C-z</code> to undo some of the typing and type
something else instead. In a normal editor pressing undo won't get you
back to the original text that you previously undid. In Emacs you can
use <code>C-x u</code> to start undo-tree-visualise to give you a diagram of your
undo history that you can move through to get back to the earlier
text.
</p>

<p>
here something else
</p>
</div>
</div>

<div id="outline-container-org94c9747" class="outline-3">
<h3 id="org94c9747">Quick calculation</h3>
<div class="outline-text-3" id="text-org94c9747">
<p>
Use <code>C-c b c</code> to open a quick calculator in the minibuffer. Type a
calculation and hit return to see the result. The nice thing is that
the result is automatically added to the clipboard to be pasted into
your work.
</p>

<p>
4
</p>
</div>
</div>

<div id="outline-container-org42b6b6f" class="outline-3">
<h3 id="org42b6b6f">Insert today's date</h3>
<div class="outline-text-3" id="text-org42b6b6f">
<p>
Use <code>C-c b d</code> to insert today's date.
</p>

<p>
2016-11-16
</p>
</div>
</div>

<div id="outline-container-org4ce68b7" class="outline-3">
<h3 id="org4ce68b7">Insert a file name</h3>
<div class="outline-text-3" id="text-org4ce68b7">
<p>
Use <code>C-c b i</code> to insert the name of a file.
</p>

<p>
emacs_bjm.tex
</p>
</div>
</div>

<div id="outline-container-orgd74b0ba" class="outline-3">
<h3 id="orgd74b0ba">Manage files with dired</h3>
<div class="outline-text-3" id="text-orgd74b0ba">
<p>
Emacs has a very powerful file manager called dired. Hit <code>C-x j</code> to
jump to the current file in dired. In dired you can do all the normal
file management tasks, but a really neat trick is using <code>C-x C-q</code> to
make the dired buffer editable. You can now edit the file names like a
normal buffer, using e.g. multiple cursors to rename multiple files.
Amazingly this also extends to editing links. Once you have made your
edits use <code>C-c C-c</code> to save them and exit writeable mode in dired.
</p>

<p>
For more about dired, see my blog posts
</p>

<p>
<a href="http://pragmaticemacs.com/category/dired/">http://pragmaticemacs.com/category/dired/</a>
</p>
</div>
</div>
</div>


<div id="outline-container-org2df51d4" class="outline-2">
<h2 id="org2df51d4">Email in Emacs</h2>
<div class="outline-text-2" id="text-org2df51d4">
<p>
This is a more advance topic and I'll direct the interested reader to
my blog for posts on how I use mu4e and org-mode to manage my emails.
</p>

<p>
<a href="http://pragmaticemacs.com/mu4e-tutorials/">http://pragmaticemacs.com/mu4e-tutorials/</a>
</p>

<p>
For the moment, consider a quick example of turning an email into a
todo item.
</p>
</div>
</div>

<div id="outline-container-org5f3fdb9" class="outline-2">
<h2 id="org5f3fdb9">Version history</h2>
<div class="outline-text-2" id="text-org5f3fdb9">
<p>
Current version is $Revision: 1.2 $
</p>

<pre class="example">
$Log: emacs_tutorial.org,v $
Revision 1.2  2016/11/13 21:10:19  bjm
Summary: Improved text around org-capture.

Revision 1.1  2016/11/12 22:04:22  bjm
Initial revision
</pre>
</div>
</div>

</div>
</div>
    <div>
      <div class="post-meta">
        <span title="post date" class="post-info">2017-03-10</span>
        <span title="last modification date" class="post-info">2017-03-10</span>
        <span title="tags" class="post-info"><a href="http://guaracy.github.com/tags/tag1/">tag1</a> <a href="http://guaracy.github.com/tags/tag2/">tag2</a> <a href="http://guaracy.github.com/tags/tag3/">tag3</a></span>
        <span title="author" class="post-info">zilog</span>
      </div>
      <section>
        <h1>Comments</h1>
        <div class="ds-thread"></div>
        <script type="text/javascript">
          var duoshuoQuery = {short_name:'tumashu-website'};
          (function() {
          var ds = document.createElement('script');
          ds.type = 'text/javascript';ds.async = true;
          ds.src = 'http://static.duoshuo.com/embed.js';
          ds.charset = 'UTF-8';
          (document.getElementsByTagName('head')[0]
          || document.getElementsByTagName('body')[0]).appendChild(ds);
          })();
        </script>
      </section>
      <div class="footer">
        <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 9.x)</p>
        <p>
          Copyright &copy; <span id="footerYear"></span> <a href="mailto:zilog &lt;at&gt; tk82-c">zilog</a>
          &nbsp;&nbsp;-&nbsp;&nbsp;
          Powered by <a href="https://github.com/tumashu/org-webpage" target="_blank">org-webpage</a>
          <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
        </p>
      </div>
    </div>

</div>
</body>
</html>
